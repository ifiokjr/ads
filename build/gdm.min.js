!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=e("debug")("mode:production");r("launching application");try{e("./main")}catch(o){r("Error",o)}},{"./main":7,debug:2}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?u.removeItem("debug"):u.debug=e}catch(t){}}function s(){var e;try{e=u.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=a,n.load=s,n.useColors=r;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":3}],3:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var o=n.formatters[r];if("function"==typeof o){var i=a[s];t=o.call(e,i),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=o.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:4}],4:[function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function i(e){return a(e,l,"day")||a(e,u,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,c=60*s,u=60*c,l=24*u,d=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):o(e)}},{}],5:[function(e,t,n){!function(e,r){return"function"==typeof define&&null!=define.amd?define([],r):"undefined"!=typeof n&&null!==n?t.exports=r():e.UrlPattern=r()}(this,function(){var e,t;return e=function(t){if(t instanceof e)return this.isRegex=t.isRegex,this.regex=t.regex,this.names=t.names,this;if(this.isRegex=t instanceof RegExp,"string"!=typeof t&&!this.isRegex)throw new TypeError("argument must be a regex or a string");return this.isRegex?this.regex=t:this.compile(t),this},e.prototype.match=function(e){var t,n,r,o,i,a,s,c;if(a=this.regex.exec(e),null==a)return null;if(n=a.slice(1),this.isRegex)return n;for(t={},r=o=0,i=n.length;i>o;r=++o)c=n[r],s=this.names[r],null!=c&&(null!=t[s]?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(c)):t[s]=c);return t},t=new RegExp("^[a-zA-Z0-9]+$"),e.prototype.isAlphanumeric=function(e){return t.test(e)},e.prototype.escapeForRegex=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e.prototype.compile=function(e){var t,n,r,o,i,a,s,c,u,l,d;for(s=[],u="^",a="?",l=0,c=0,d=this,r=-1,o=function(){switch(a){case"variable":if(2>r-l)throw new Error("`:` must be followed by at least one alphanumeric character that is the variable name at "+r);s.push(e.slice(l+1,r)),u+="([a-zA-Z0-9]+)";break;case"static":u+=d.escapeForRegex(e.slice(l,r))}return a="?"},n=function(e){return e!==a?(o(),l=r,a=e):void 0},i=e.length;++r<i;)if(t=e.charAt(r),":"===t){if("variable"===a)throw new Error("cannot start variable right after variable at "+r);n("variable")}else if("("===t)o(),c++,u+="(?:";else if(")"===t){if(o(),c--,0>c)throw new Error("did not expect ) at "+r);u+=")?"}else if("*"===t)o(),u+="(.*?)",s.push("_");else switch(a){case"variable":this.isAlphanumeric(t)||n("static");break;case"?":n("static")}if(c>0)throw new Error("unclosed parentheses at "+r);return o(),u+="$",this.names=s,this.regex=new RegExp(u)},e.newPattern=function(){throw Error("`urlPattern.newPattern` is no longer supported.  Use `new Pattern` instead.")},e})},{}],6:[function(e,t,n){function r(e){i("Launching GDM Script"),function(e){var t=document,n=t.createElement("script");n.async=!0,n.defer=!0,n.src=e,t.getElementsByTagName("head")[0].appendChild(n)}((iatDev=window.location.href.indexOf("iatDev=1")>-1||document.cookie.indexOf("iatDev=1")>-1,"//"+("http:"!==window.location.protocol||iatDev?"":"h")+"fp.gdmdigital.com/"+e+".js?r="+1e16*Math.random()+"&m=992&a="+e+(iatDev?"&d=1":"")))}var o=e("./utils/type"),i=e("debug")("GDM Handler");t.exports={start:function(e){o(e,"object")&&!e.exclude&&e.flexId&&r(e.flexId)}}},{"./utils/type":21,debug:2}],7:[function(e,t,n){var r=e("debug")("main");e("./utils/polyfills");var o=e("./settings"),i=e("./gdmhandler"),a=e("./run");r("VERSION: "+o.version.join(".")),r("running gdm handler"),i.start(o.gdm),r("running main code"),a.start(o.genie)},{"./gdmhandler":6,"./run":10,"./settings":11,"./utils/polyfills":19,debug:2}],8:[function(e,t,n){function r(e,t){this.urlMatch=!1;var n=t.page||{};this.params=n.params||{},this.urls=n.urls||[],this.dynamicId=t.dynamicIdentifier||{},this.namespace=e.namespace,this.name=e.name,this.setUpLogger()}var o=e("./pubsub-js"),i=e("./utils/checkElements"),a=e("./utils/type"),s=e("./utils/urls"),c=e("debug"),u=e("./utils/jq"),l=e("./utils/criteria").criteria,d=e("./settings").genie,f={productPages:{namespace:"product",name:"productPages"},basketPages:{namespace:"basket",name:"basketPages"},orderValue:{namespace:"value",name:"orderValue"},orderId:{namespace:"id",name:"orderId"},completePage:{namespace:"complete",name:"completePage"}};r.prototype.check=function(){var e=!1,t=this;return this.log("checking through urls"),u.each(this.urls,function(n,r){var o=t.params;a(r,"object")&&r.params&&Object.size(r.params)&&(o=u.extend({},o,urls.params)),s.test(r,o)&&(e=!0,t.log(t.namespace,"matches with url",r,"and params",o))}),this.UrlMatch=e,e},r.prototype.setUpLogger=function(){this.log=c("page:"+this.namespace)},r.prototype.dynamicIdentifier=function(){var e=this.dynamicId,t=this;this.dynamicIdentifierExists()&&this.UrlMatch&&(this.log("checking for dynamic identifier"),i.checkUpdates(e.selector,function(n,r){return l[e.criteria||"yesPlease"](r,e.value)?(t.log("dynamic identifier test passed now ready to act"),o.publishSync("page."+t.namespace,d[t.name]),!0):void 0}))},r.prototype.run=function(){return this.check()?this.dynamicIdentifierExists()?(this.dynamicIdentifier(),!1):(this.log("url found and no dynamic identifier running page action"),o.publishSync("page."+this.namespace,d[this.name]),!0):void 0},r.prototype.dynamicIdentifierExists=function(){return Object.size(this.dynamicId)&&this.dynamicId.selector&&this.dynamicId.selector.length},r.prototype.fromCompletePage=function(){return this.urls.length?!1:!0},t.exports={product:new r(f.productPages,d.productPages),basket:new r(f.basketPages,d.basketPages),value:new r(f.orderValue,d.orderValue),id:new r(f.orderId,d.orderId),complete:new r(f.completePage,d.completePage)}},{"./pubsub-js":9,"./settings":11,"./utils/checkElements":14,"./utils/criteria":15,"./utils/jq":16,"./utils/type":21,"./utils/urls":22,debug:2}],9:[function(e,t,n){"use strict";function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e){return function(){if(window.vedebugmode)throw e}}function i(e,t,n){try{e(t,n)}catch(r){setTimeout(o(r),0)}}function a(e,t,n){e(t,n)}function s(e,t,n,r){var o,s=f[t],c=r?a:i;if(f.hasOwnProperty(t))for(o in s)s.hasOwnProperty(o)&&c(s[o],e,n)}function c(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(s(e,e,t,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),s(e,r,t)}}function u(e){for(var t=String(e),n=Boolean(f.hasOwnProperty(t)&&r(f[t])),o=t.lastIndexOf(".");!n&&-1!==o;)t=t.substr(0,o),o=t.lastIndexOf("."),n=Boolean(f.hasOwnProperty(t)&&r(f[t]));return n}function l(e,t,n,r){var o=c(e,t,r),i=u(e);return i?(n===!0?o():setTimeout(o,0),!0):!1}var d={},f={},p=-1;d.publish=function(e,t){return l(e,t,!1,d.immediateExceptions)},d.publishSync=function(e,t){return l(e,t,!0,d.immediateExceptions)},d.subscribe=function(e,t){if("function"!=typeof t)return!1;f.hasOwnProperty(e)||(f[e]={});var n="uid_"+String(++p);return f[e][n]=t,n},d.clearAllSubscriptions=function(){f={}},d.unsubscribe=function(e){var t,n,r,o="string"==typeof e&&f.hasOwnProperty(e),i=!o&&"string"==typeof e,a="function"==typeof e,s=!1;if(o)return void delete f[e];for(t in f)if(f.hasOwnProperty(t)){if(n=f[t],i&&n[e]){delete n[e],s=e;break}if(a)for(r in n)n.hasOwnProperty(r)&&n[r]===e&&(delete n[r],s=!0)}return s},t.exports=d},{}],10:[function(e,t,n){function r(e){var t,n,r=M.genie,o=_?l(r.orderValue):m(V)||r.orderValue["default"],i=N?l(r.orderId):m(q)||(new Date).getTime(),a=r.completionId,s=(r.gdmConversionCode,r.gdmSegementId,m(U)||null),c=(m(L)||null,r.journeyCode),u=r.dbm.src,d=r.dbm.cat.conversion||r.dbm.cat.ros;if(a&&(t="//secure.adnxs.com/px?id="+a+"&seg="+r.segmentIds[1]+"&order_id="+i+"&value="+o+"&t=2",E(t),P("App Nexus Completion Pixel added to complete page")),c&&c.length){var f={companyId:c,items:(s?s+"|":"")+"BASKETVAL:"+o,orderId:i};n=O.adgenie(f,!0),P("adGenie Completion Pixel added to complete page"),E(n)}if(u&&d){var p={src:u,cat:d,orderId:i,orderValue:o},g=O.dbm.conversion(p);E(g),P("Doubleclick Bid Manager Conversion Pixel added to complete page")}T.clearAllSubscriptions()}function o(e){var t,n;t=O.ros(e.segmentIds),n=O.ros(e.segmentIds,!0),E(t),E(n),A("ROS Pixel added to the site.")}function i(e){var t={src:e.dbm.src,cat:e.dbm.cat.ros};srcDbm=O.dbm.ros(t),E(srcDbm),A("DBM ROS Pixel added to the site.")}function a(t){var n,r,o,i=t["default"]?!1:!0,a=l(t,i),s=M.genie,u=s.journeyCode;if(!a)return R("No Default provided and product element not found on this page"),void c(e("./settings").genie);n=O.product(s.segmentIds),r=O.product(s.segmentIds,!0),E(n),E(r);var d={adgCompanyID:u,adgItem:a};o=O.adgenie(d,!1),R("Genie Src is:",o),E(o),R("Product Page Pixel added to the site.")}function s(e){var t=M.genie.journeyCode;if(e){var n={adgCompanyID:t,adgBasketItems:e};genieSrc=O.adgenie(n,!1),E(genieSrc),D("Basket pixel added added to the site.",genieSrc)}}function c(e){return e.ros&&(A("Page qualifies for ROS"),o(e)),e.dbm.ros&&e.dbm.cat.ros&&(A("Page qualifies for Doubleclick Bid Manager ROS"),i(e)),!1}function u(e,t,n,r){return t=k(t,"regexp")?t:new RegExp("","g"),e.text()&&e.text().trim().replace(t,"")||e.val()&&e.val().trim().replace(t,"")||String(n||r)}function l(e,t){var n=S(e.selector),r=(new Date).getTime();if(!n.length)return t?"":e["default"]||r;var o=u(n,e.regex,e["default"],r);return encodeURIComponent(o)}function d(e){var t=I.check(e.selectors.productId),n=I.check(e.selectors.productPrice),r=b(n,v),o=b(t,h);setTimeout(function(){g(r,U),g(o,L)},0),s(o)}function f(e){var t=e.updates&&e.urls.length?" - DYNAMAICALLY":"",n=e.updates&&e.urls.length?I.checkUpdates:I.check;j("Checking For Order Value"+t),n(e.selector,function(n){var r=z[e.mask||"doNothing"](u(n,e.regex,e["default"]));j("Order Value element found"+t+" : "+r),g(r,V)})}function p(e){C("Checking For order Id"),I.check(e.selector,function(t){var n=z[e.mask||"doNothing"](u(t,e.regex,e["default"]));C("Order ID found "+n),g(n,q)})}function g(e,t){j("Storing "+t+" as "+e),y.set(w+t,e)}function m(e){return j("Obtaining from storage "+e),y.get(w+e)}function h(e,t){var n="";return e.each(function(e,r){var o=I.getValOrText(S(r));o=encodeURIComponent(o),n+=o+(t-1>e?"|":"")}),n}function v(e,t){var n="";return e.each(function(e,r){var o=I.getValOrText(S(r));o=z.currency(o),n+="PROD"+(e+1)+":"+o+(t-1>e?"|":"")}),n}function b(e,t){if(!e||!e.length||!t)return"";var n=e.length;return n?t(e,n):""}{var y=e("./utils/store"),w=e("./settings").namespace,x=(e("./utils/urls"),e("./pages")),I=e("./utils/checkElements"),E=e("./utils/addPixel"),S=e("./utils/jq"),O=e("./utils/pixelSrc"),P=e("debug")("conversion:pixel"),k=e("./utils/type"),j=e("debug")("run:value"),C=e("debug")("run:id"),A=e("debug")("run:ros"),R=e("debug")("run:product"),D=e("debug")("run:basket"),M=(e("./utils/criteria").criteria,e("./settings")),T=e("./pubsub-js"),z=e("./utils/criteria").masks,V="orderValue",q="orderId",L="idList",U="itemString",N=x.id.fromCompletePage(),_=x.value.fromCompletePage(),F={value:function(e,t){f(t)},id:function(e,t){p(t)},product:function(e,t){a(t)},basket:function(e,t){d(t)},complete:function(e,t){r(t)}};({value:T.subscribe("page.value",F.value),id:T.subscribe("page.id",F.id),product:T.subscribe("page.product",F.product),basket:T.subscribe("page.basket",F.basket),complete:T.subscribe("page.complete",F.complete)})}t.exports={start:function(e){var t,n,r,o;c(e),n=x.value.run();x.id.run();t=x.complete.run(),t||(r=x.basket.run()),t||r||(o=x.product.run())}}},{"./pages":8,"./pubsub-js":9,"./settings":11,"./utils/addPixel":13,"./utils/checkElements":14,"./utils/criteria":15,"./utils/jq":16,"./utils/pixelSrc":18,"./utils/store":20,"./utils/type":21,"./utils/urls":22,debug:2}],11:[function(e,t,n){var r=window.veTagData.settings.gdm;t.exports={gdm:r.gdm||{exclude:r.exclude,flexId:r.flexId,gdmConversionCode:r.gdmConversionCode,gdmSegementId:r.gdmSegementId},genie:{gdmConversionCode:r.gdmConversionCode,gdmSegementId:r.gdmSegementId||r.gdmSegmentId,completionId:r.completionId,journeyCode:r.journeyCode,segmentIds:r.segmentIds,orderId:r.orderId,orderValue:r.orderValue,completePage:r.completePage,ros:r.ros,basketPages:r.basketPages,productPages:r.productPages,dbm:r.dbm||{}},dbm:r.dbm,namespace:"veapps."+(r.flexId||"")+(r.journeyCode||"")+".GDM.",version:[1,3,1]}},{}],12:[function(e,t,n){!function(e){function n(){try{return s in e&&e[s]}catch(t){return!1}}function r(e){return e.replace(/^d/,"___$&").replace(p,"___")}var o,i={},a=e.document,s="localStorage",c="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(e,t){},i.get=function(e,t){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(e){},i.clear=function(){},i.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=i.get(e,t);n(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},n())o=e[s],i.set=function(e,t){return void 0===t?i.remove(e):(o.setItem(e,i.serialize(t)),t)},i.get=function(e,t){var n=i.deserialize(o.getItem(e));return void 0===n?t:n},i.remove=function(e){o.removeItem(e)},i.clear=function(){o.clear()},i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=function(e){for(var t=0;t<o.length;t++){var n=o.key(t);e(n,i.get(n))}};else if(a.documentElement.addBehavior){var u,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),l.close(),u=l.w.frames[0].document,o=u.createElement("div")}catch(d){o=a.createElement("div"),u=a.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),u.appendChild(o),o.addBehavior("#default#userData"),o.load(s);var n=e.apply(i,t);return u.removeChild(o),n}},p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=f(function(e,t,n){return t=r(t),void 0===n?i.remove(t):(e.setAttribute(t,i.serialize(n)),e.save(s),n)}),i.get=f(function(e,t,n){t=r(t);var o=i.deserialize(e.getAttribute(t));return void 0===o?n:o}),i.remove=f(function(e,t){t=r(t),e.removeAttribute(t),e.save(s)}),i.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(s)}),i.getAll=function(e){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=f(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var g="__storejs__";i.set(g,g),i.get(g)!=g&&(i.disabled=!0),i.remove(g)}catch(d){i.disabled=!0}i.enabled=!i.disabled,t.exports=i}(Function("return this")())},{}],13:[function(e,t,n){function r(e){var t=document.createElement("img");t.width=1,t.height=1,t.src=e,t.style.visibility="hidden",document.body.appendChild(t),setTimeout(function(){t.style.display="none"},1e3)}t.exports=r},{}],14:[function(e,t,n){function r(e,t,n){var r=0;e=e||1e3,t=t||600;var o=setInterval(function(){var e=n();r++,(e||t&&r>=t)&&(a("Clearing Check Interval"),clearInterval(o))},e);return o}function o(e,t){var n,o=!1;if(s(t,"function"))var i=r(null,null,function(){return o===!0?void clearInterval(i):(n=c(e),n.length?(o=!0,a("Success function is about to be called"),clearInterval(i),t(n),n):!1)});if(n=c(e),n.length){if(o=!0,a("Success function is about to be called"),!s(t,"function"))return n;clearInterval(i),t(n)}return n}function i(e){return s(e,"string")&&(e=c(e)),e.length?e.val()&&e.val().trim()||e.text()&&e.text().trim():""}var a=e("debug")("checkElement"),s=e("./type"),c=e("./jq");t.exports={check:function(e,t){return a("Element is being checked"),o(e,t)},checkUpdates:function(e,t,n){null==n&&(n=t,t="");var o,a,u,l=r(500,2e3,function(){return a=c(e),u=i(a),!s(u,"nan")&&!s(u,"null")&&!s(u,"undefined")&&u!==t&&(t=u,o=n(a,u))?(clearInterval(l),!0):void 0})},getValOrText:i}},{"./jq":16,"./type":21,debug:2}],15:[function(e,t,n){var r=(e("./type"),{contains:function(e,t){return e=String(e.toLowerCase()),e.indexOf(String(t).toLowerCase())>-1},equal:function(e,t){return String(e)===String(t)},not:function(e,t){return-1===String(e).indexOf(String(t))},yesPlease:function(){return!0}}),o={number:function(e){var t=String(e).match(/([\d]{4,25})/);return t[1]},alphanumeric:function(e){var t=String(e).match(/([\dA-Z]{4,25})/);return t[1]},currency:function(e){return String(e).replace(/[^0-9\.,]/g,"")},doNothing:function(e){return String(e)}};t.exports={criteria:r,masks:o}},{"./type":21}],16:[function(e,t,n){t.exports=window.VEjQuery||window.$},{}],17:[function(e,t,n){function r(e,t,n){veTagData.settings.consoleMessagesEnabled&&!i(console,"undefined")&&console.info(e,t||"",n||"")}function o(e,t,n){veTagData.settings.consoleMessagesEnabled&&!i(console,"undefined")&&console.log(e,t||"",n||"")}var i=e("./type");t.exports=r,t.exports.safe=o},{"./type":21}],18:[function(e,t,n){{var r=("https:"===(window.location.protocol||"https:")?!0:!1,e("./jq"));e("./type"),e("./log")}t.exports={ros:function(e,t){return t?"//secure.adnxs.com/seg?add="+(e[2]||e[0])+"&t=2":"//ib.adnxs.com/seg?add="+(e[2]||e[0])+"&t=2"},product:function(e,t){return t?"//secure.adnxs.com/seg?add="+e[0]+"&t=2":"//ib.adnxs.com/seg?add="+e[0]+"&t=2"},adgenie:function(e,t){var n="//adverts.adgenie.co.uk/"+(t?"conversion.php?":"genieTracker.php?"),o=0;return r.isEmptyObject(e)?n:(r.each(e,function(t,r){o++,r&&(n=n+t+"="+r+(o>=Object.size(e)?"":"&"))}),n)},appnexus:function(e){return e},dbm:{ros:function(e){var t=Math.random()+"",n=1e13*t,r="https://ad.doubleclick.net/activity;src=";return r+e.src+";type=invmedia;cat="+e.cat+";ord="+n+"?"},conversion:function(e){var t="https://ad.doubleclick.net/activity;src=";return t+e.src+";type=sales;cat="+e.cat+";qty=[Quantity];cost="+e.orderValue+";ord="+e.orderId+"?"}}}},{"./jq":16,"./log":17,"./type":21}],19:[function(e,t,n){var r=e("./type");r(Object.create,"function")||(Object.create=function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}()),r(Object.size,"function")||(Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r,o,i,a,s=Object(this),c=s.length,u=c>>>0;if("function"!=typeof e)throw new TypeError;for(n=t?t:void 0,r=0;u>r;)o=r.toString(),i=s.hasOwnProperty(o),i&&(a=s[o],e.call(n,a,r,s)),r+=1;return void 0}),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,i=window.console=window.console||{};o--;)e=n[o],i[e]||(i[e]=t);Function.prototype.bind&&r(i,"object")&&r(i.log,"object")&&n.forEach(function(t,n){i[e]=Function.prototype.call.bind(i[e],i)})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var o=r>=0?r:Math.max(n-Math.abs(r),0);n>o;o++)if(o in t&&t[o]===e)return o;return-1}),String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}()},{"./type":21}],20:[function(e,t,n){function r(e){var t="testStorage";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(n){return!1}}var o,i,a,s,c=e("./type"),u=function(){},l="localStorage";a={set:u,get:u,remove:u,clear:u,SUPPORT:"none"},s={set:function(e,t){return window[l].setItem(e,t)},get:function(e){return window[l].getItem(e)},remove:function(e){return window[l].removeItem(e)},clear:function(){return window[l].clear()},SUPPORT:"simple"};var d;window.JSON&&c(window.JSON.parse,"function")&&c(window.JSON.stringify,"function")?(o=e("../store"),i=o.enabled?o:a):i=d||(d=r(l))?s:a,t.exports=i},{"../store":12,"./type":21}],21:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e,t){switch(r.call(e)){case"[object Date]":return"date"===t;case"[object RegExp]":return"regexp"===t;case"[object Arguments]":return"arguments"===t;case"[object Array]":return"array"===t;case"[object Error]":return"error"===t}return null===e?"null"===t:void 0===e?"undefined"===t:e!==e?"nan":e&&1===e.nodeType?"element"===t:(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),t===typeof e)}},{}],22:[function(e,t,n){function r(e){if(""===e||"?"===e)return{};var t,n,r,o={};for(t=e.replace(/^\?/,"").split("&"),n=0;n<t.length;n++)r=t[n].split("="),o[r[0]]=r[1];return o}function o(e){try{var t=(e+"").toLowerCase();return t=t.replace("http://",""),t=t.replace("https://",""),t=t.replace("#","?"),t=t.replace(";","?"),"www."===t.substr(0,4)&&(t=t.replace("www.","")),t}catch(n){return""}}function i(e){"www."===e.substr(0,4)&&(e=e.replace("www.","")),e=e.toLowerCase();var t=s.newPattern(e),n=!!t.match(l);return c("Result of URLs matching "+e+" is",n),n}function a(e){var t=!0;return Object.size(e)?(u.each(e,function(e,n){e=String(e),n=String(n);var r=s.newPattern(n);(null==d[e]||!r.match(d[e])&&!r.match(decodeURIComponent(d[e])))&&(t=!1)}),t):t}var s=e("url-pattern"),c=e("debug")("urls"),u=e("./jq"),l=o(window.location.hostname+(window.location.pathname.length>1?window.location.pathname:"")),d=r(window.location.search||"");c("PAGE_URL and PAGE_PARAMS have been set."),t.exports={test:function(e,t){return i(e)&&a(t)}}},{"./jq":16,debug:2,"url-pattern":5}]},{},[1]);
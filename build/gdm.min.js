!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e){var t=e("debug")("mode:production");t("launching application");try{e("./main")}catch(n){t("Error",n)}},{"./main":10,debug:2}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?c.removeItem("debug"):c.debug=e}catch(t){}}function s(){var e;try{e=c.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=a,n.load=s,n.useColors=r;var c;c="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":3}],3:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var o=n.formatters[r];if("function"==typeof o){var i=a[s];t=o.call(e,i),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=o.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:4}],4:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?o(e):r(e)}},{}],5:[function(e,t,n){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof n?n:e.PubSub={})}("object"==typeof window&&window||this,function(e){"use strict";function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e){return function(){throw e}}function r(e,t,r){try{e(t,r)}catch(o){setTimeout(n(o),0)}}function o(e,t,n){e(t,n)}function i(e,t,n,i){var a,s=u[t],c=i?o:r;if(u.hasOwnProperty(t))for(a in s)s.hasOwnProperty(a)&&c(s[a],e,n)}function a(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(i(e,e,t,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),i(e,r,t)}}function s(e){for(var n=String(e),r=Boolean(u.hasOwnProperty(n)&&t(u[n])),o=n.lastIndexOf(".");!r&&-1!==o;)n=n.substr(0,o),o=n.lastIndexOf("."),r=Boolean(u.hasOwnProperty(n)&&t(u[n]));return r}function c(e,t,n,r){var o=a(e,t,r),i=s(e);return i?(n===!0?o():setTimeout(o,0),!0):!1}var u={},l=-1;e.publish=function(t,n){return c(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return c(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,t){if("function"!=typeof t)return!1;u.hasOwnProperty(e)||(u[e]={});var n="uid_"+String(++l);return u[e][n]=t,n},e.clearAllSubscriptions=function(){u={}},e.unsubscribe=function(e){var t,n,r,o="string"==typeof e&&u.hasOwnProperty(e),i=!o&&"string"==typeof e,a="function"==typeof e,s=!1;if(o)return void delete u[e];for(t in u)if(u.hasOwnProperty(t)){if(n=u[t],i&&n[e]){delete n[e],s=e;break}if(a)for(r in n)n.hasOwnProperty(r)&&n[r]===e&&(delete n[r],s=!0)}return s}})},{}],6:[function(e,t){!function(e){function n(){try{return s in e&&e[s]}catch(t){return!1}}function r(e){return e.replace(/^d/,"___$&").replace(p,"___")}var o,i={},a=e.document,s="localStorage",c="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(){},i.get=function(){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(){},i.clear=function(){},i.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=i.get(e,t);n(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},n())o=e[s],i.set=function(e,t){return void 0===t?i.remove(e):(o.setItem(e,i.serialize(t)),t)},i.get=function(e,t){var n=i.deserialize(o.getItem(e));return void 0===n?t:n},i.remove=function(e){o.removeItem(e)},i.clear=function(){o.clear()},i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=function(e){for(var t=0;t<o.length;t++){var n=o.key(t);e(n,i.get(n))}};else if(a.documentElement.addBehavior){var u,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),l.close(),u=l.w.frames[0].document,o=u.createElement("div")}catch(d){o=a.createElement("div"),u=a.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),u.appendChild(o),o.addBehavior("#default#userData"),o.load(s);var n=e.apply(i,t);return u.removeChild(o),n}},p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=f(function(e,t,n){return t=r(t),void 0===n?i.remove(t):(e.setAttribute(t,i.serialize(n)),e.save(s),n)}),i.get=f(function(e,t,n){t=r(t);var o=i.deserialize(e.getAttribute(t));return void 0===o?n:o}),i.remove=f(function(e,t){t=r(t),e.removeAttribute(t),e.save(s)}),i.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(s)}),i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=f(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var g="__storejs__";i.set(g,g),i.get(g)!=g&&(i.disabled=!0),i.remove(g)}catch(d){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof t&&t.exports&&this.module!==t?t.exports=i:"function"==typeof define&&define.amd?define(i):e.store=i}(Function("return this")())},{}],7:[function(e,t){var n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.exports={PatternPrototype:{match:function(e){var t,n,r,o,i,a,s,c;if(o=this.regex.exec(e),null==o)return null;if(n=o.slice(1),this.isRegex)return n;for(t={},r=s=0,c=n.length;c>s;r=++s)a=n[r],i=this.names[r],null!=a&&("_"===i?(null==t._&&(t._=[]),t._.push(a)):t[i]=a);return t}},newPattern:function(e,n){var r,o,i;if(null==n&&(n="/"),r=e instanceof RegExp,"string"!=typeof e&&!r)throw new TypeError("argument must be a regex or a string");return[":","*"].forEach(function(e){if(n===e)throw new Error("separator can't be "+e)}),o=Object.create(t.exports.PatternPrototype),o.isRegex=r,o.regex=r?e:(i=t.exports.toRegexString(e,n),new RegExp(i)),r||(o.names=t.exports.getNames(e,n)),o},escapeForRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},getNames:function(e,r){var o,i,a,s,c;if(null==r&&(r="/"),e instanceof RegExp)return[];for(o=t.exports.escapeForRegex(r),s=new RegExp("((:?:[^"+o+"()]+)|(?:[*]))","g"),a=[],c=s.exec(e);null!=c;){if(i=c[1].slice(1),"_"===i)throw new TypeError(":_ can't be used as a pattern name in pattern "+e);if(n.call(a,i)>=0)throw new TypeError("duplicate pattern name :"+i+" in pattern "+e);a.push(i||"_"),c=s.exec(e)}return a},escapeSeparators:function(e,n){var r,o;return null==n&&(n="/"),r=t.exports.escapeForRegex(n),o=new RegExp(r,"g"),e.replace(o,r)},toRegexString:function(e,n){var r,o;return null==n&&(n="/"),o=t.exports.escapeSeparators(e,n),o=o.replace(/\((.*?)\)/g,"(?:$1)?").replace(/\*/g,"(.*?)"),r=t.exports.escapeForRegex(n),t.exports.getNames(e,n).forEach(function(e){return o=o.replace(":"+e,"([^\\"+n+"]+)")}),"^"+o+"$"}}},{}],8:[function(e,t){t.exports={name:"gdm",version:"1.0.0",description:"integration of gdm script and veGenie onto VeInteractive sites",main:"src/index.js",scripts:{test:"./node_modules/.bin/testem"},repository:{type:"git",url:"https://bitbucket.org/vetechteam/gdm"},author:"Ifiok Jr.",license:"ISC",devDependencies:{"browser-sync":"^1.8.3",browserify:"^8.0.3",chai:"^1.10.0","chai-jquery":"^2.0.0","chai-things":"^0.2.0",glob:"^4.3.2",gulp:"^3.8.10","gulp-filesize":"0.0.6","gulp-jshint":"^1.9.0","gulp-notify":"^2.1.0","gulp-rename":"^1.2.0","gulp-testem":"0.0.1","gulp-uglify":"^1.0.2","gulp-util":"^3.0.1",jquery:"^1.11.2","jshint-stylish":"^1.0.0",karma:"^0.12.31","karma-browserify":"^2.0.0","karma-chai-plugins":"^0.2.4","karma-jquery":"^0.1.0","karma-mocha":"^0.1.10","karma-mocha-reporter":"^0.3.1","karma-phantomjs-launcher":"^0.1.4",lodash:"^2.4.1","lodash-cli":"^2.4.2",mocha:"^2.1.0","notify-send":"^0.1.2","pretty-hrtime":"^1.0.0","require-dir":"^0.1.0",sinon:"^1.12.2","sinon-chai":"^2.6.0",testem:"^0.6.24","vinyl-source-stream":"^1.0.0",watchify:"^2.2.1"},dependencies:{debug:"^2.1.1","pubsub-js":"^1.5.0",store:"^1.3.17","url-pattern":"^0.6.0"}}},{}],9:[function(e,t){function n(e){o("Launching GDM Script"),function(e){var t=document,n=t.createElement("script");n.async=!0,n.defer=!0,n.src=e,t.getElementsByTagName("head")[0].appendChild(n)}((iatDev=window.location.href.indexOf("iatDev=1")>-1||document.cookie.indexOf("iatDev=1")>-1,"//"+("http:"!==window.location.protocol||iatDev?"":"h")+"fp.gdmdigital.com/"+e+".js?r="+1e16*Math.random()+"&m=992&a="+e+(iatDev?"&d=1":"")))}var r=e("./utils/type"),o=e("debug")("GDM Handler");t.exports={start:function(e){r(e,"object")&&!e.exclude&&e.flexId&&n(e.flexId)}}},{"./utils/type":22,debug:2}],10:[function(e){var t=e("debug")("main");e("./utils/polyfills");var n=e("./settings"),r=e("./gdmhandler"),o=e("./run");t("running gdm handler"),r.start(n.gdm),t("running main code"),o.start(n.genie)},{"./gdmhandler":9,"./run":12,"./settings":13,"./utils/polyfills":20,debug:2}],11:[function(e,t){function n(e,t){this.urlMatch=!1,this.params=t.page.params,this.urls=t.page.urls,this.dynamicId=t.dynamicIdentifier||{},this.namespace=e.namespace,this.name=e.name,this.setUpLogger()}var r=e("pubsub-js"),o=e("./utils/checkElements"),i=e("./utils/type"),a=e("./utils/urls"),s=e("debug"),c=e("./utils/jq"),u=e("./utils/criteria").criteria,l=e("./settings").genie,d={productPages:{namespace:"product",name:"productPages"},basketPages:{namespace:"basket",name:"basketPages"},orderValue:{namespace:"value",name:"orderValue"},orderId:{namespace:"id",name:"orderId"},completePage:{namespace:"complete",name:"completePage"}};n.prototype.check=function(){var e=!1,t=this;return this.log("checking through urls"),c.each(this.urls,function(n,r){var o=t.params;i(r,"object")&&r.params&&Object.size(r.params)&&(o=c.extend({},o,urls.params)),a.test(r,o)&&(e=!0,t.log(t.namespace,"matches with url",r,"and params",o))}),this.UrlMatch=e,e},n.prototype.setUpLogger=function(){this.log=s("page:"+this.namespace)},n.prototype.dynamicIdentifier=function(){var e=this.dynamicId,t=this;this.dynamicIdentifierExists()&&this.UrlMatch&&(this.log("checking for dynamic identifier"),o.checkUpdates(e.selector,function(n,o){return u[e.criteria||"yesPlease"](o,e.value)?(t.log("dynamic identifier test passed now ready to act"),r.publishSync("page."+t.namespace,l[t.name]),!0):void 0}))},n.prototype.run=function(){return this.check()?this.dynamicIdentifierExists()?(this.dynamicIdentifier(),!1):(this.log("url found and no dynamic identifier running page action"),r.publishSync("page."+this.namespace,l[this.name]),!0):void 0},n.prototype.dynamicIdentifierExists=function(){return Object.size(this.dynamicId)&&this.dynamicId.selector&&this.dynamicId.selector.length},n.prototype.fromCompletePage=function(){return this.urls.length?!1:!0},t.exports={product:new n(d.productPages,l.productPages),basket:new n(d.basketPages,l.basketPages),value:new n(d.orderValue,l.orderValue),id:new n(d.orderId,l.orderId),complete:new n(d.completePage,l.completePage)}},{"./settings":13,"./utils/checkElements":15,"./utils/criteria":16,"./utils/jq":17,"./utils/type":22,"./utils/urls":23,debug:2,"pubsub-js":5}],12:[function(e,t){function n(){var e,t,n,r=O.genie,o=p(R)||r.orderValue["default"],i=c(r.orderId)||(new Date).getTime(),a=r.completionId,s=r.gdmConversionCode,u=r.gdmSegementId,l=p(_)||null,d=(p(D)||null,r.journeyCode),f="";if(j(r.segmentIds,"array")&&a&&(f="&remove="+r.segmentIds[0]+","+r.segmentIds[1],e="//secure.adnxs.com/px?id="+a+f+"&order_id="+i+"&value="+o+"&t=2",w(e),E("Genie App Nexus Completion Pixel added to complete page")),s&&(t="//secure.adnxs.com/px?id="+s+"&seg="+u+"&order_id="+i+"&value="+o+"&t=2",w(t),E("GDM App Nexus Completion Pixel added to complete page")),d&&d.length){var g={companyId:d,items:(l?l+"|":"")+"BASKETVAL:"+o,orderId:i};n=I.adgenie(g,!0),E("adGenie Completion Pixel added to complete page"),w(n)}C.clearAllSubscriptions()}function r(e){var t,n;t=I.ros(e.segmentIds),n=I.ros(e.segmentIds,!0),w(t),w(n),S("ROS Pixel added to the site.")}function o(e){var t,n,r,o=c(e),i=O.genie,a=i.journeyCode;t=I.ros(i.segmentIds),n=I.ros(i.segmentIds,!0),w(t),w(n);var s={adgCompanyID:a,adgItem:o};r=I.adgenie(s,!1),P("Genie Src is:",r),w(r),P("Product Page Pixel added to the site.")}function i(e){var t=O.genie.journeyCode,n={adgCompanyID:t,adgBasketItems:e};genieSrc=I.adgenie(n,!1),w(genieSrc),P("Basket pixel add added to the site.",genieSrc)}function a(e){return e.ros?(S("Page qualifies for ROS"),void r(e)):!1}function s(e,t,n,r){return t=j(t,"regexp")?t:new RegExp("","g"),e.text()&&e.text().trim().replace(t,"")||e.val()&&e.val().trim().replace(t,"")||String(n||r)}function c(e){var t=x(e.selector),n=(new Date).getTime();if(!t.length)return e["default"]||n;var r=s(t,e.regex,e,n);return encodeURIComponent(r)}function u(e){var t=b.check(e.selectors.productId),n=b.check(e.selectors.productPrice),r=g(n),o=m(t);setTimeout(function(){f(r,_),f(o,D)},0),i(o)}function l(e){k("Checking For Order Value"),b.check(e.selector,function(t){var n=A[e.mask||"doNothing"](s(t,e.regex,e));k("Order Value element found",n),f(n,R)})}function d(e){k("Checking For order Id"),b.check(e.selector,function(t){var n=A[e.mask||"doNothing"](s(t,e.regex,e));k("Order Id element found",n),f(n,T)})}function f(e,t){k("Storing "+t+" as "+e),h.set(v+t,e)}function p(e){return k("Obtaining from storage "+e),h.get(v+e)}function g(e){var t="",n=e.length;return n?(e.each(function(e,r){var o=b.getValOrText(x(r));o=A.currency(o),t+="PROD"+(e+1)+":"+o+(n-1>e?"|":"")}),t):""}function m(e){var t="",n=e.length;return n?(e.each(function(e,r){var o=b.getValOrText(x(r));o=encodeURIComponent(o),t+=o+(n-1>e?"|":"")}),t):""}{var h=e("./utils/store"),v=e("./settings").namespace,y=(e("./utils/urls"),e("./pages")),b=e("./utils/checkElements"),w=e("./utils/addPixel"),x=e("./utils/jq"),I=e("./utils/pixelSrc"),E=e("debug")("Genie Conversion Pixel"),j=e("./utils/type"),k=e("debug")("run:value"),S=e("debug")("run:ros"),P=e("debug")("run:product"),O=(e("./utils/criteria").criteria,e("./settings")),C=e("pubsub-js"),A=e("./utils/criteria").masks,R="orderValue",T="orderId",D="idList",_="itemString",M=(y.id.fromCompletePage(),y.value.fromCompletePage(),{value:function(e,t){l(t)},id:function(e,t){d(t)},product:function(e,t){o(t)},basket:function(e,t){u(t)},complete:function(e,t){n(t)}});({value:C.subscribe("page.value",M.value),id:C.subscribe("page.id",M.id),product:C.subscribe("page.product",M.product),basket:C.subscribe("page.basket",M.basket),complete:C.subscribe("page.complete",M.complete)})}t.exports={start:function(e){var t,n,r,o;n=y.value.run(),orderId=y.id.run(),t=y.complete.run(),t||(o=y.product.run(),r=y.basket.run()),t||r||o||a(e)}}},{"./pages":11,"./settings":13,"./utils/addPixel":14,"./utils/checkElements":15,"./utils/criteria":16,"./utils/jq":17,"./utils/pixelSrc":19,"./utils/store":21,"./utils/type":22,"./utils/urls":23,debug:2,"pubsub-js":5}],13:[function(e,t){var n=window.veTagData.settings.gdm;t.exports={gdm:n.gdm||{exclude:n.exclude,flexId:n.flexId,gdmConversionCode:n.gdmConversionCode,gdmSegementId:n.gdmSegementId},genie:{gdmConversionCode:n.gdmConversionCode,gdmSegementId:n.gdmSegementId,completionId:n.completionId,journeyCode:n.journeyCode,segmentIds:n.segmentIds,orderId:n.orderId,orderValue:n.orderValue,completePage:n.completePage,ros:n.ros,basketPages:n.basketPages,productPages:n.productPages},namespace:"veapps."+(n.flexId||"")+(n.journeyCode||"")+".GDM.",version:e("../package.json").version.split(".")}},{"../package.json":8}],14:[function(e,t){function n(e){var t=document.createElement("img");t.width=1,t.height=1,t.src=e,t.style.visibility="hidden",document.body.appendChild(t),setTimeout(function(){t.style.display="none"},1e3)}t.exports=n},{}],15:[function(e,t){function n(e,t,n){var r=0;e=e||1e3,t=t||600;var o=setInterval(function(){var e=n();r++,(e||t&&r>=t)&&(i("Clearing Check Interval"),clearInterval(o))},e);return o}function r(e,t){var r,o=!1;if(a(t,"function"))var c=n(null,null,function(){return o===!0?void clearInterval(c):(r=s(e),r.length?(o=!0,i("Success function is about to be called"),clearInterval(c),t(r),r):!1)});if(r=s(e),r.length){if(o=!0,i("Success function is about to be called"),!a(t,"function"))return r;clearInterval(c),t(r)}}function o(e){return a(e,"string")&&(e=s(e)),e.length?e.val()&&e.val().trim()||e.text()&&e.text().trim():""}var i=e("debug")("checkElement"),a=e("./type"),s=e("./jq");t.exports={check:function(e,t){return i("Element is being checked"),r(e,t)},checkUpdates:function(e,t,r){null==r&&(r=t,t="");var i,c,u,l=n(2e3,1e3,function(){return c=s(e),u=o(c),!a(u,"nan")&&!a(u,"null")&&!a(u,"undefined")&&u!==t&&(t=u,i=r(c,u))?(clearInterval(l),!0):void 0})},getValOrText:o}},{"./jq":17,"./type":22,debug:2}],16:[function(e,t){var n=(e("./type"),{contains:function(e,t){return e=String(e.toLowerCase()),e.indexOf(String(t).toLowerCase())>-1},equal:function(e,t){return String(e)===String(t)},not:function(e,t){return-1===String(e).indexOf(String(t))},yesPlease:function(){return!0}}),r={number:function(e){var t=String(e).match(/([\d]{4,25})/);return t[1]},alphanumeric:function(e){var t=String(e).match(/([\dA-Z]{4,25})/);return t[1]},currency:function(e){return String(e).replace(/[^0-9\.,]/g,"")},doNothing:function(e){return String(e)}};t.exports={criteria:n,masks:r}},{"./type":22}],17:[function(e,t){t.exports=window.VEjQuery||window.$},{}],18:[function(e,t){function n(e,t,n){veTagData.settings.consoleMessagesEnabled&&!o(console,"undefined")&&console.info(e,t||"",n||"")}function r(e,t,n){veTagData.settings.consoleMessagesEnabled&&!o(console,"undefined")&&console.log(e,t||"",n||"")}var o=e("./type");t.exports=n,t.exports.safe=r},{"./type":22}],19:[function(e,t){{var n=("https:"===(window.location.protocol||"https:")?!0:!1,e("./jq"));e("./type"),e("./log")}t.exports={ros:function(e,t){return t?"//secure.adnxs.com/seg?add="+e[0]+","+e[1]+"&t=2":"//ib.adnxs.com/seg?add="+e[0]+","+e[1]+"&t=2"},adgenie:function(e,t){var r="//adverts.adgenie.co.uk/"+(t?"conversion.php?":"genieTracker.php?"),o=0;return n.isEmptyObject(e)?r:(n.each(e,function(t,n){o++,n&&(r=r+t+"="+n+(o>=Object.size(e)?"":"&"))}),r)},appnexus:function(e){return e}}},{"./jq":17,"./log":18,"./type":22}],20:[function(e){var t=e("./type");t(Object.create,"function")||(Object.create=function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}()),t(Object.size,"function")||(Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r,o,i,a,s=Object(this),c=s.length,u=c>>>0;if("function"!=typeof e)throw new TypeError;for(n=t?t:void 0,r=0;u>r;)o=r.toString(),i=s.hasOwnProperty(o),i&&(a=s[o],e.call(n,a,r,s)),r+=1;return void 0}),function(){for(var e,n=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=r.length,i=window.console=window.console||{};o--;)e=r[o],i[e]||(i[e]=n);Function.prototype.bind&&t(i,"object")&&t(i.log,"object")&&r.forEach(function(){i[e]=Function.prototype.call.bind(i[e],i)})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&1/0!==r&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var o=r>=0?r:Math.max(n-Math.abs(r),0);n>o;o++)if(o in t&&t[o]===e)return o;return-1})},{"./type":22}],21:[function(e,t){function n(e){var t="testStorage";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(n){return!1}}var r,o,i,a,s=e("./type"),c=function(){},u="localStorage";i={set:c,get:c,remove:c,clear:c,SUPPORT:"none"},a={set:function(e,t){return window[u].setItem(e,t)},get:function(e){return window[u].getItem(e)},remove:function(e){return window[u].removeItem(e)},clear:function(){return window[u].clear()},SUPPORT:"simple"};var l;window.JSON&&s(window.JSON.parse,"function")&&s(window.JSON.stringify,"function")?(r=e("store"),o=r.enabled?r:i):o=l||(l=n(u))?a:i,t.exports=o},{"./type":22,store:6}],22:[function(e,t){var n=Object.prototype.toString;t.exports=function(e,t){switch(n.call(e)){case"[object Date]":return"date"===t;case"[object RegExp]":return"regexp"===t;case"[object Arguments]":return"arguments"===t;case"[object Array]":return"array"===t;case"[object Error]":return"error"===t}return null===e?"null"===t:void 0===e?"undefined"===t:e!==e?"nan":e&&1===e.nodeType?"element"===t:(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),t===typeof e)}},{}],23:[function(e,t){function n(e){if(""===e||"?"===e)return{};var t,n,r,o={};for(t=e.replace(/^\?/,"").split("&"),n=0;n<t.length;n++)r=t[n].split("="),o[r[0]]=r[1];return o}function r(e){try{var t=(e+"").toLowerCase();return t=t.replace("http://",""),t=t.replace("https://",""),t=t.replace("#","?"),t=t.replace(";","?"),"www."===t.substr(0,4)&&(t=t.replace("www.","")),t}catch(n){return""}}function o(e){"www."===e.substr(0,4)&&(e=e.replace("www.","")),e=e.toLowerCase();var t=a.newPattern(e),n=!!t.match(u);return s("Result of URLs matching "+e+" is",n),n}function i(e){var t=!0;return Object.size(e)?(c.each(e,function(e,n){e=String(e),n=String(n);var r=a.newPattern(n);(null==l[e]||!r.match(l[e])&&!r.match(decodeURIComponent(l[e])))&&(t=!1)}),t):t}var a=e("url-pattern"),s=e("debug")("urls"),c=e("./jq"),u=r(window.location.hostname+window.location.pathname),l=n(window.location.search||"");s("PAGE_URL and PAGE_PARAMS have been set."),t.exports={test:function(e,t){return o(e)&&i(t)}}},{"./jq":17,debug:2,"url-pattern":7}]},{},[1]);